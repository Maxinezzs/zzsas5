<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>

<body>
    <style>
        .maploc {
            display: flex;
            height: 300px;
            align-items: center;
        }
    </style>
    <div id="outer" style="height:500vh;">
        <img class="opa"
            src="https://lh3.googleusercontent.com/2w3m79Vjlq4-NWCtP5aPYAh3l1gDQJlFN4pUWXzop9ndJlB3tKBD0KzFL54CNEHOnPsogv4yu21R-wcU5bO2IFwPRbvUfRQfRtdSO5mIbTOgrHRQRWkCxiopIUMzgIBkmxzmQVcPeg=w2400"
            style="position:fixed;opacity:1;width:100vw;z-index:5" data-pos="1" ;>

        <img class="opa"
            src="https://lh3.googleusercontent.com/iWDMCPWcgJQDgiTIhHhmpGEB40wzvXMB_09Ieme3pMtGoCZ5uQrxFA-R5GXV3tNWXMUBHfNvzkfBqCw69TZgBu2Uotuua-ay05LXEqQVXFgHOyX1JnPakuIeFByfTh-IFKcJiPDRRg=w2400"
            style="position:fixed;opacity:1;width:100vw;z-index:4" data-pos="2" ;>

        <img class="opa"
            src="https://lh3.googleusercontent.com/-wtGT7y5e0h3U18Vue2GwD4Ef5VcO-xyiV9OWXmQJP3G8sudzPbMa4-qfLxEt_CmaTXIz0H245Jkpm7EJNRtt3EfRZXfyzPji0X-oQgHv48rayZ3iS9aHzrioCwO0mYmqda0axzAhQ=w2400"
            style="position:fixed;opacity:1;width:100vw;z-index:3" data-pos="3" ;>

        <img class="opa"
            src="https://lh3.googleusercontent.com/qZbXKZjCyuNbg6YNJcxlzkL7HZPwYWySoXxtF1gkdgpSXWDszH4n5vfinxyKTfUGsTNVpBUKS6Iya5oQZdSGqh7mwxgQ8jCLdK-V_tIqVuqgLh1ONhDkp-R1b7pYrk9_vnmL3a5HfA=w2400"
            style="position:fixed;opacity:1;width:100vw;z-index:2" data-pos="4" ;>

        <img class="opa"
            src="https://lh3.googleusercontent.com/jhUvHLQ3wZuQ-3kH3zjfhjKWOvrRr_EvkLYEdrDj9nv9VV-gftq-3nJmGbCGvNmpCgKF3rPASDSR4FlJbGqJRyZ2gr8W73MNCk1ADkYfVbts6j-hu47iCjJNUMC5AGZPdTdQsEHyUA=w2400"
            style="position:fixed;opacity:1;width:100vw;z-index:1" data-pos="5" ;>
    </div>

    <div style="height:50vh;background-color:white"></div>
    <div class="row">
        <div id="bg-img" class="col-6 sticky-top"
            style="height:100vh;background:url(https://lh3.googleusercontent.com/JrmpbakVRdlnV_GY_Yq60EHZuJHl2U-hhDenaEQ-W3hmJK_h-JO4SlTv8nF-NCT-B2a-VSHvgAkw2D1jqEQUVlseA9kFpRMBZFBAG5R_t8AC-y2WK_AbT4msb5rl_eL-iFoG3UfWtQ=w1200);background-position:0 0 ">
        </div>
        <div class="col-6" style="height:300vh">
            <div class="maploc" data-bgpos="50% 0%" style="height:100vh;background:Ivory">
                <h1>2015年北側海岸淤積</h1>
            </div>
            <div class="maploc" data-bgpos="5% 90%" style="height:100vh;background:FloralWhite">
                <h1>南側海岸侵蝕</h1>
            </div>
            <div class="maploc" data-bgpos="5% 90%" style="height:100vh;background:SeaShell">
                <h3>
               寧靜藻礁在桃園海岸遺世而獨立數千年，學者尚未研究前，這片特殊地貌一直被誤認為是珊瑚礁地形，直到1998年台大海研所戴昌鳳教授的研究團隊，首次揭開桃園藻礁海岸身世之謎。<br><br>然而，近二十年來，這片海岸承受了開發破壞與廢水污染的摧殘，透過鏡頭，回顧桃園海岸的變遷，以及藻礁的變化。</h3>
            </div>
        </div>
    </div>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous">
    </script>
    <script>
        $(function () {
            var scrollable = $("#outer").height();
            console.log(scrollable);

            $(window).scroll(function () {
                var scrolled = $(document).scrollTop();
                $(".opa").each(function (index) {
                    $(this).css("opacity", $(this).data("pos") - (6 * scrolled) / scrollable);

                    console.log(
                        "[" + scrolled / scrollable + "]" + index + ": " + $(this).css(
                            "opacity")
                    );
                });

                $(".maploc").each(function () {
                    var this_pos = $(this).offset().top;
                    var this_h = $(this).height();
                    if (scrolled >= this_pos && scrolled < this_pos + this_h) {
                        $("#bg-img").css("background-position", $(this).data("bgpos"));
                    }
                });

            });
        });
    </script>
</body>

</html>